import{r as o,c as t,h as e,H as s,a as i}from"./p-DbC7otHO.js";const n=":host{display:block;border:2px solid #3b015d;font-family:sans-serif;padding:1rem;border-radius:8px;width:350px;margin:auto;max-width:100%;margin-top:2rem}form{display:flex;flex-direction:column;gap:1rem;max-width:300px;margin:auto;padding:1rem}input{padding:0.5rem;border:1px solid #ccc;border-radius:4px}input[type='text']{padding:5px;border:1px solid #ccc;border-radius:4px}button{padding:0.5rem;background-color:#007bff;color:white;border:none;border-radius:4px;cursor:pointer}button:hover{background-color:#0056b3}.instruction,.error{font-size:0.9rem;color:#555;text-align:center;margin-bottom:1rem}.error{color:tomato}.stock-symbols-list{list-style:none;padding:0;margin:0}.stock-symbols-list li{padding:0.5rem;border-bottom:1px solid #ccc}.stock-symbols-list li:last-child{border-bottom:none}.stock-symbols-list li:hover{background-color:#f0f0f0}.stock-symbols-list li:active{outline:2px solid burlywood;outline-offset:-2px;background-color:blue;color:white}";const c=class{constructor(e){o(this,e);this.stockSymbolChangedEmitter=t(this,"stockSymbolChanged")}input;appState="idle";stockSymbols=[];stockSymbol;stockSymbolChanged(o,t){console.log(`stockSymbol changed from ${t} to ${o}`);if(o&&o!==t){this.input.value=o;this.fetchStockSymbols(o)}}stockSymbolChangedEmitter;formHandler(o){o.preventDefault();const t=this.input.value.trim();this.stockSymbol=t}async fetchStockSymbols(o){this.appState="loading";await r(2e3);const t=await fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${o}&apikey=G5Q599MACNAP8JET`);const e=await t.json();if(e.bestMatches===undefined){this.appState="error";console.error("No matches found for the stock symbol:",o);this.stockSymbols=[];return}this.appState="success";this.stockSymbols=e?.bestMatches?.map((o=>({symbol:o["1. symbol"],name:o["2. name"]})))??[];console.log("Fetched stock symbols:",this.stockSymbols)}fetchStockPrice(o){this.stockSymbolChangedEmitter.emit(o)}componentDidLoad(){console.log("Component did load");if(this.stockSymbol){this.input.value=this.stockSymbol;this.fetchStockSymbols(this.stockSymbol)}}render(){return e(s,{key:"ca7395b6751a736cf771df283069be03ee26b064"},e("form",{key:"3143552b5170cd468c3ab63e5d33f2f9f992b54b",onSubmit:this.formHandler.bind(this)},e("label",{key:"ffc2988472af7719dfb0093f2bbc1c6d62226f0a",htmlFor:"stock-symbol-finder"},"Enter Stock Symbol:"),e("input",{key:"4f6f54adb4af42a1b3550b72df26889471338da4",type:"text",id:"stock-symbol-finder",placeholder:"Enter stock symbol",ref:o=>{this.input=o},value:this.stockSymbol}),e("button",{key:"cd7b00b135058e86e4ed2ab017b59d47325beed7",type:"submit"},"Find Stock")),this.stockSymbols.length>0&&e("ul",{key:"655a4e5f9200a93e5abb1c9685e4c54402d1b290",class:"stock-symbols-list"},this.stockSymbols.map((o=>e("li",{key:o.symbol,onClick:this.fetchStockPrice.bind(this,o.symbol)},e("strong",null,o.symbol)," - ",o.name)))),this.appState==="loading"&&e("stock-loading",{key:"26f151f70acd088b3709e66a8fbacbef7d236d1d",style:{width:"fit-content",margin:"auto"}}),this.appState!=="idle"&&this.stockSymbols.length===0&&!this.stockSymbol&&e("p",{key:"d04ff031a47a800553b558b44e60f8115aef2394",class:"instruction"},"Please enter a stock symbol to search."),this.appState==="error"&&e("p",{key:"92a19fe76d1ee6a82157bb65ce572d3e26f063e5",class:"error"},"Something went wrong."))}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}};function r(o){return new Promise((t=>setTimeout(t,o)))}c.style=n;const a=":host{display:block}.loader{width:15px;aspect-ratio:1;--_g:no-repeat radial-gradient(circle closest-side, #000 90%, #0000);background:var(--_g) 0 0, var(--_g) 0 100%, var(--_g) 100% 100%;background-size:40% 40%;animation:l11 1s infinite linear}@keyframes l11{25%{background-position:100% 0, 0 100%, 100% 100%}50%{background-position:100% 0, 0 0, 100% 100%}75%{background-position:100% 0, 0 0, 0 100%}100%{background-position:100% 100%, 0 0, 0 100%}}";const d=class{constructor(t){o(this,t)}render(){return e(s,{key:"f92b86f6ce384ee92bdcd12d937fc52c2bb20f63"},e("div",{key:"4188c78756742cf58e670e66eb17427f8b8f3c96",class:"loader"}))}};d.style=a;const l=":host{display:block;border:2px solid #3b015d;margin:2rem;padding:1rem;border-radius:8px;width:350px;margin:auto;max-width:100%;font-family:sans-serif}form{display:flex;flex-direction:column;gap:10px;max-width:300px}input[type='text']{padding:5px;border:1px solid #ccc;border-radius:4px}button{padding:10px;background-color:#007bff;color:white;border:none;border-radius:4px;cursor:pointer}#stock-price{margin-top:20px;font-size:1.2em;text-align:center;color:#333;font-weight:lighter;font-size:small;font-style:oblique}";const b=class{input;appState="idle";stockPrice="";get el(){return i(this)}stockSymbol;stockSymbolChanged(o,t){console.log(`stockSymbol changed from ${t} to ${o}`);if(o&&o!==t){this.input.value=o;this.fetchStockPriceForStockSymbol(o)}}hostData(){return{class:"error"}}stockSymbolChangedListener(o){const t=o.detail;console.log(`Received stock symbol from event: ${t}`);this.stockSymbol=t}constructor(t){o(this,t);this.fetchStockPrice=this.fetchStockPrice.bind(this)}componentWillLoad(){console.log("Component will load");console.log(this.stockSymbol)}componentDidLoad(){console.log("Component did load");if(this.stockSymbol){this.input.value=this.stockSymbol;this.fetchStockPriceForStockSymbol(this.stockSymbol)}}componentWillUpdate(){console.log("Component will update")}componentDidUpdate(){console.log("Component did update")}componentWillRender(){console.log("Component will render")}componentDidRender(){console.log("Component did render")}disconnectedCallback(){console.log("Component did unload")}fetchStockPrice=async o=>{o.preventDefault();const t=this.input.value.trim().toUpperCase();this.stockSymbol=t;if(!t){alert("Please enter a valid stock symbol.");return}};async fetchStockPriceForStockSymbol(o){this.appState="loading";const t=await fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${o}&apikey=964XYIDUV8SBYCB0`);const e=await t.json();this.appState="success";const s=e["Global Quote"]?e["Global Quote"]["05. price"]:"0.00";this.stockPrice=s}__stencil_render(){return[e("stock-finder",{key:"ed9e6c8599332182773b297372ae518e485f7b44",style:{marginLeft:"-16px",border:"0px",marginTop:"0px"}}),e("form",{key:"39da102134189909cc86d966db2828742593c730",onSubmit:this.fetchStockPrice,style:{margin:"auto",padding:"1rem"}},e("label",{key:"f1959faf79adc145e88d2f116dbbad376a197605",htmlFor:"stock-symbol"},"Enter Stock Symbol:"),e("input",{key:"382eeeb5c0e6219688792cb83f28e6fc92b44654",type:"text",id:"stock-symbol",name:"stock-symbol",placeholder:"e.g., AAPL, GOOGL",ref:o=>this.input=o,value:this.stockSymbol}),e("button",{key:"f62226b122eb3885e3bf376f431b70916c8b4e03",type:"submit"},"Get Price")),e("div",{key:"26c8785dd8ccca9e0726b985bb2da2335c27dfb4"},e("p",{key:"f25756bfa089d765513c5bf386e5dd6580cf2141",id:"stock-price"},this.appState=="loading"?e("stock-loading",null):this.appState==="success"?`Current Price: ${this.stockPrice}`:this.appState==="error"?"Something went wrong":""))]}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}render(){return e(s,this.hostData(),this.__stencil_render())}};b.style=l;export{c as stock_finder,d as stock_loading,b as stock_price};
//# sourceMappingURL=p-45e8c88d.entry.js.map