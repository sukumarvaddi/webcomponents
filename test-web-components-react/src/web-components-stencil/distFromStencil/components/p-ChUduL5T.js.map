{"file":"p-ChUduL5T.js","mappings":"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","names":["__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/stock-finder/stock-finder.css?tag=stock-finder&encapsulation=shadow","src/components/stock-finder/stock-finder.tsx"],"sourcesContent":[":host {\n  display: block;\n  border: 2px solid #3b015d;\n  font-family: sans-serif;\n  padding: 1rem;\n  border-radius: 8px;\n  width: 350px;\n  margin: auto;\n  max-width: 100%;\n  margin-top: 2rem;\n}\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  max-width: 300px;\n  margin: auto;\n  padding: 1rem;\n}\ninput {\n  padding: 0.5rem;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\ninput[type='text'] {\n  padding: 5px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\nbutton {\n  padding: 0.5rem;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\nbutton:hover {\n  background-color: #0056b3;\n}\n.instruction,\n.error {\n  font-size: 0.9rem;\n  color: #555;\n  text-align: center;\n  margin-bottom: 1rem;\n}\n.error {\n  color: tomato;\n}\n.stock-symbols-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.stock-symbols-list li {\n  padding: 0.5rem;\n  border-bottom: 1px solid #ccc;\n}\n.stock-symbols-list li:last-child {\n  border-bottom: none;\n}\n.stock-symbols-list li:hover {\n  background-color: #f0f0f0;\n}\n\n.stock-symbols-list li:active {\n  outline: 2px solid burlywood;\n  outline-offset: -2px;\n  background-color: blue;\n  color: white;\n}\n","import { Component, Host, Event, Prop, State, Watch, h, EventEmitter } from '@stencil/core';\n\nexport interface StockSymbolMatch {\n  symbol: string;\n  name: string;\n  type: string;\n  region: string;\n  marketOpen: string;\n  marketClose: string;\n  timezone: string;\n  currency: string;\n  matchScore: string;\n}\n\n@Component({\n  tag: 'stock-finder',\n  styleUrl: 'stock-finder.css',\n  shadow: true,\n})\nexport class StockFinder {\n  input: HTMLInputElement;\n  @State() appState: 'idle' | 'loading' | 'success' | 'error' = 'idle';\n  @State() stockSymbols: { symbol: string; name: string }[] = [];\n  @Prop({ mutable: true, reflect: true }) stockSymbol: string;\n  @Watch('stockSymbol')\n  stockSymbolChanged(newValue: string, oldValue: string) {\n    console.log(`stockSymbol changed from ${oldValue} to ${newValue}`);\n    if (newValue && newValue !== oldValue) {\n      this.input.value = newValue;\n      this.fetchStockSymbols(newValue);\n    }\n  }\n\n  @Event({ eventName: 'stockSymbolChanged', bubbles: true, composed: true }) stockSymbolChangedEmitter: EventEmitter<string>;\n\n  formHandler(event: Event) {\n    event.preventDefault(); // Prevent the default form submission behavior\n    const userEnteredStockSymbol = this.input.value.trim();\n    this.stockSymbol = userEnteredStockSymbol; // Update the stockSymbol property\n  }\n\n  async fetchStockSymbols(stockSymbol: string) {\n    this.appState = 'loading';\n    await sleep(2000); // Set the app state to loading\n    const response = await fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${stockSymbol}&apikey=G5Q599MACNAP8JET`);\n    const data = await response.json();\n    if (data.bestMatches === undefined) {\n      this.appState = 'error'; // Set the app state to error if no matches found\n      console.error('No matches found for the stock symbol:', stockSymbol);\n      this.stockSymbols = [];\n      return;\n    }\n    this.appState = 'success'; // Set the app state to success\n    this.stockSymbols = data?.bestMatches?.map((match: StockSymbolMatch) => ({ symbol: match['1. symbol'], name: match['2. name'] })) ?? [];\n    console.log('Fetched stock symbols:', this.stockSymbols);\n  }\n\n  fetchStockPrice(stockSymbol: string) {\n    this.stockSymbolChangedEmitter.emit(stockSymbol);\n  }\n\n  componentDidLoad() {\n    console.log('Component did load');\n    if (this.stockSymbol) {\n      this.input.value = this.stockSymbol; // Set the input value if stockSymbol is provided\n      this.fetchStockSymbols(this.stockSymbol);\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <form onSubmit={this.formHandler.bind(this)}>\n          <label htmlFor=\"stock-symbol-finder\">Enter Stock Symbol:</label>\n          <input\n            type=\"text\"\n            id=\"stock-symbol-finder\"\n            placeholder=\"Enter stock symbol\"\n            ref={el => {\n              this.input = el;\n            }}\n            value={this.stockSymbol}\n          />\n          <button type=\"submit\">Find Stock</button>\n        </form>\n        {this.stockSymbols.length > 0 && (\n          <ul class=\"stock-symbols-list\">\n            {this.stockSymbols.map(stock => (\n              <li key={stock.symbol} onClick={this.fetchStockPrice.bind(this, stock.symbol)}>\n                <strong>{stock.symbol}</strong> - {stock.name}\n              </li>\n            ))}\n          </ul>\n        )}\n        {this.appState === 'loading' && <stock-loading style={{ width: 'fit-content', margin: 'auto' }}></stock-loading>}\n        {this.appState !== 'idle' && this.stockSymbols.length === 0 && !this.stockSymbol && <p class=\"instruction\">Please enter a stock symbol to search.</p>}\n        {this.appState === 'error' && <p class=\"error\">Something went wrong.</p>}\n        {/* <p>Note: This component uses the Alpha Vantage API for stock symbol search.</p>\n        <p>API Key: 964XYIDUV8SBYCB0</p>\n        <p>\n          For more information, visit <a href=\"https://www.alphavantage.co/documentation/\">Alpha Vantage Documentation</a>.\n        </p> */}\n      </Host>\n    );\n  }\n}\nfunction sleep(time: number) {\n  return new Promise(resolve => setTimeout(resolve, time));\n}\n"],"version":3}